"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const child_process_1 = require("child_process");
class FuseProcess {
    constructor(bundle) {
        this.bundle = bundle;
    }
    setFilePath(filePath) {
        this.filePath = filePath;
    }
    kill() {
        if (this.node) {
            this.node.kill();
        }
    }
    start() {
        this.kill();
        this.exec();
        return this;
    }
    exec() {
        const node = child_process_1.spawn("node", [this.filePath], {
            stdio: "inherit",
        });
        node.on("close", (code) => {
            if (code === 8) {
                console.error("Error detected, waiting for changes...");
            }
        });
        this.node = node;
        return this;
    }
}
exports.FuseProcess = FuseProcess;
